<div class="main-container">
    <div mat-dialog-title>
        Aggiungi nuovo socio
    </div>
    <ng-container *ngIf="!error">
        <form #form="ngForm">
            <div mat-dialog-content style="text-align:left">
                <div>
                    <label for="numero">Numero Tessera:</label>
                    <mat-input-container>
                        <input  type="text" name="numero" [(ngModel)]="model.tessere[0].numero" 
                                matInput required [pattern]="PATTERN_NUMERO_TESSERA">
                    </mat-input-container>
                    <label for="anno">Anno: {{ model.tessere[0].anno }} </label>
                </div>

                <div>
                    <label for="nome">Nome:</label>
                    <mat-input-container>
                        <input type="text" name="nome" [(ngModel)]="model.nome" matInput required/>
                    </mat-input-container>
                    <label for="cognome">Cognome:</label>
                    <mat-input-container>
                        <input type="text" name="cognome" [(ngModel)]="model.cognome" matInput required/>
                    </mat-input-container>
                </div>

                <div>
                    <label for="email">E-Mail:</label>
                    <mat-input-container>
                        <input type="text" name="email" [(ngModel)]="model.email" matInput required email/>
                    </mat-input-container>
                    <label for="cellulare">Cellulare:</label>
                    <mat-input-container>
                        <input type="text" name="cellulare" [(ngModel)]="model.cellulare" matInput/>
                    </mat-input-container>
                </div>

                <div>
                    <label for="facebook">Facebook:</label>
                    <mat-input-container>
                        <input type="text" name="facebook" [(ngModel)]="model.facebook" matInput/>
                    </mat-input-container>
                    <label for="studente">Studente:</label>
                    <mat-slide-toggle [(ngModel)]="model.carriere[0].studente" name="studente" color="primary">
                    </mat-slide-toggle>
                </div>

                <ng-container *ngIf="model.carriere[0].studente">
                    <div>
                        <label for="matricola">Matricola:</label>
                        <mat-input-container>
                            <input type="text" name="matricola" [(ngModel)]="model.carriere[0].matricola" 
                            matInput [required]="model.carriere[0].studente" [pattern]="PATTERN_MATRICOLA" />
                        </mat-input-container>
                        <label for="cdl">Corso di laurea:</label>
                        <div class="mat-form-field">
                            <corsi-viewedit [(ngModel)]="model.carriere[0].corso" [flag]="true" 
                            [required]="model.carriere[0].studente" name="corso"></corsi-viewedit>
                        </div>
                    </div>
                </ng-container>

                <ng-container *ngIf="!model.carriere[0].studente">
                    <div>
                        <label for="professione">Professione:</label>
                        <mat-input-container>
                            <input  type="text" name="professione" [(ngModel)]="model.carriere[0].professione" 
                                    matInput [required]="!model.carriere[0].studente"
                            />
                        </mat-input-container>
                    </div>
                </ng-container>
            </div>
            <div mat-dialog-actions style="display: block">
                <button type="submit" class="to_right" mat-icon-button (click)="submitForm(form)" [disabled]="form.invalid">
                <mat-icon matTooltip="Conferma" matTooltipPosition="right">check</mat-icon>
            </button>
                <button class="to_right" mat-dialog-close mat-icon-button (click)="revertForm(form)">
                <mat-icon matTooltip="Annulla" matTooltipPosition="right">close</mat-icon>
            </button>
            </div>
        </form>
    </ng-container>
    <ng-container *ngIf="error">
        <div mg-dialog-content>
            <h3>Nessun Tesseramento attivo!</h3>
        </div>
    </ng-container>
</div>